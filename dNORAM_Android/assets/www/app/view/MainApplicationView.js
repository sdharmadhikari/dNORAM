/*
 * File: app/view/MainApplicationView.js
 *
 * This file was generated by Sencha Architect version 2.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.0.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.MainApplicationView', {
    extend: 'Ext.Container',
    alias: 'widget.mainApplicationView',

    requires: [
        'MyApp.view.MyNavigationView',
        'Ext.util.DelayedTask'
    ],

    config: {
        layout: {
            type: 'card'
        },
        scrollable: false,
        items: [
            {
                xtype: 'panel',
                name: 'welcome',
                ui: '',
                layout: {
                    align: 'center',
                    pack: 'center',
                    type: 'vbox'
                },
                scrollable: false,
                items: [
                    {
                        xtype: 'image',
                        height: 480,
                        ui: '',
                        width: 320,
                        src: 'resources/images/dNORAM.png'
                    }
                ]
            },
            {
                xtype: 'mynavigationview',
                name: 'appcontainer'
            },
            {
                xtype: 'panel',
                name: 'info',
                layout: {
                    align: 'center',
                    pack: 'center',
                    type: 'vbox'
                },
                items: [
                    {
                        xtype: 'toolbar',
                        docked: 'top',
                        items: [
                            {
                                xtype: 'button',
                                handler: function(button, event) {

                                    button.up("mainApplicationView").animateActiveItem(1,{type:'flip',duration:800});
                                },
                                ui: 'plain',
                                iconCls: 'home',
                                iconMask: true
                            }
                        ]
                    },
                    {
                        xtype: 'image',
                        height: 60,
                        width: 180,
                        src: 'resources/images/susanku-logo.png'
                    },
                    {
                        xtype: 'label',
                        html: '<div id="infoDiv"><p><span style="font-weight:bold;font-style:italic">SUSANKU</span> was born in 2012 with an intent to revolutionize the mobile app world by bringing in most apt and easy to use applications to our customers. </p> <p>Our focus is to improve user productivity in the most intutive way possible.</p></div>',
                        style: 'font-size:14px;'
                    },
                    {
                        xtype: 'label',
                        docked: 'bottom',
                        html: '&copy; 2012 SUSANKU Inc.',
                        style: 'font-size:10px;text-align:center; padding:5px;'
                    },
                    {
                        xtype: 'label',
                        docked: 'bottom',
                        html: '<a href="http://www.susanku.com">www.susanku.com</a>',
                        style: 'font-size:14px;text-align:center; padding-bottom:10px;font-style:italic'
                    }
                ]
            }
        ],
        listeners: [
            {
                fn: 'onContainerShow',
                event: 'show'
            }
        ]
    },

    onContainerShow: function(component, options) {


        //create the delayed task instance with our callback
        var task = Ext.create('Ext.util.DelayedTask', function() {
            console.log('callback!');
            component.animateActiveItem(1,{duration:2000,type: 'slide', direction: 'left'});
            task.cancel(); 
        });

        task.delay(8000);
    }

});